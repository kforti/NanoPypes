pipeline_id: demulti_mapper
pipeline_order: [["albacore", "basecall"]] #, ["minimap2", "splice-map"]]
pipe_configs:
    albacore:
        task_kwargs: {}
        task_type: shell
        data_type: ont_raw_signal
        input_path: "/Users/kevinfortier/Desktop/NanoPypes_Prod/NanoPypes/tests/test_data/minion_sample_raw_data/Experiment_01/sample_02_local/fast5/pass/"
        save_path: "/Users/kevinfortier/Desktop/NanoPypes_Prod/NanoPypes/tests/test_data/basecalled_data/results"
        commands:
            basecall: "read_fast5_basecaller.py --input {input} --save_path {save} --flowcell {flowcell} --kit {kit} --output_format fastq --worker_threads 1 --reads_per_fastq 1000"
        user_input: ['flowcell', 'kit']
    minimap2:
        task_kwargs: {}
        task_type: shell
        data_type: ont_fastq_seq
        input_path: "{{NANOPYPES_VARIABLE}}" # possibly user defined as well
        references: "/path/to/refernces" #"{{USER_INPUT}}" # For reference per barcode {"{{USER_INPUT}}": "{{USER_INPUT}}"}
        save_path: "/Users/kevinfortier/Desktop/NanoPypes_Prod/NanoPypes/tests/test_data/basecalled_data/results"
        commands:
            splice-map: "minimap2 -ax splice /path/to/reference {input} -o {save}"
        user_input: ['reference']
compute_config_path: /Users/kevinfortier/Desktop/NanoPypes_Prod/NanoPypes/nanopypes/configs/compute.yml
compute_id: local
